#!/usr/sbin/nft -f

flush ruleset

table inet filter {
	chain input {
		type filter hook input priority 0;
	}
	chain forward {
		type filter hook forward priority 0;
	}
	chain output {
		type filter hook output priority 0;
	}
}

table inet nat {
	set chnip4 {
		type ipv4_addr
		flags interval
	}

	set chnip6 {
		type ipv6_addr
		flags interval
	}

	set gfwip4 {
		type ipv4_addr
		flags interval
	}

	set gfwip6 {
		type ipv6_addr
		flags interval
	}

    chain postrouting {
        type nat hook postrouting priority srcnat; policy accept;
    }
}
